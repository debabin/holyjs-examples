import{c as R,j as e,a as c,b as x,R as S,u as o,C as k,d as D,e as O,A as z,f as T,g as G,r as u,O as m,h,i as I,X as P,T as p,D as g,P as $,k as E,l as L,B as M,m as A,n as B,o as H}from"./index-CGJoN1Bo.js";import{githubActions as V}from"./index-B-R79Uk6.js";import{g as f,a as l,b as j,c as U,d as X,e as F}from"./index-CQxkJDZ0.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=R("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),q=x("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),b=({className:a,variant:t,...s})=>e.jsx("div",{className:c(q({variant:t}),a),...s}),{useDispatch:J,useSelector:le}=S,K=a=>{const t=J();return{state:{card:o(f(a))},functions:{setDragging:r=>t(l.setDragging.thunk({id:a,isDragging:r})),incrementReaction:(r,w)=>t(l.incrementReaction.thunk({id:r,reaction:w})),positionChange:r=>t(l.positionChange.thunk({position:r})),setOffset:r=>t(V.setSelect({offset:r}))}}},Q=({id:a})=>{const{state:t,functions:s}=K(a);return e.jsxs(k,{style:{zIndex:t.card.isDragging?50:1,cursor:"pointer",left:`${t.card.position.x}px`,top:`${t.card.position.y}px`,width:`${t.card.size.width}px`,height:`${t.card.size.height}px`,position:"absolute",userSelect:"none"},onMouseDown:n=>{s.setOffset({x:t.card.position.x-n.clientX+t.card.size.width/2,y:t.card.position.y-n.clientY+t.card.size.height/2}),s.setDragging(!0)},onMouseMove:n=>s.positionChange({y:n.clientY,x:n.clientX}),onMouseUp:()=>s.setDragging(!1),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(O,{className:"text-sm font-medium",children:t.card.id}),e.jsx(z,{className:"h-10 w-10",children:e.jsx(T,{alt:t.card.title,src:t.card.image})})]}),e.jsxs(G,{children:[e.jsx("div",{className:"text-md font-bold",children:t.card.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.card.description}),e.jsx("div",{className:"my-2 flex gap-2",children:Object.entries(t.card.reactions).map(([n,i])=>e.jsxs(b,{variant:"outline",onClick:d=>{d.stopPropagation(),s.incrementReaction(t.card.id,n)},children:[n," ",i]},n))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{children:["x: ",t.card.position.x]}),e.jsxs("div",{children:["y: ",t.card.position.y]})]})]})]})},W=E,Z=L,_=$,y=u.forwardRef(({className:a,...t},s)=>e.jsx(m,{className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:s}));y.displayName=m.displayName;const ee=x("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=u.forwardRef(({side:a="right",className:t,children:s,...n},i)=>e.jsxs(_,{children:[e.jsx(y,{}),e.jsxs(h,{ref:i,className:c(ee({side:a}),t),...n,children:[s,e.jsxs(I,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));v.displayName=h.displayName;const N=({className:a,...t})=>e.jsx("div",{className:c("flex flex-col space-y-2 text-center sm:text-left",a),...t});N.displayName="SheetHeader";const C=u.forwardRef(({className:a,...t},s)=>e.jsx(p,{ref:s,className:c("text-lg font-semibold text-foreground",a),...t}));C.displayName=p.displayName;const te=u.forwardRef(({className:a,...t},s)=>e.jsx(g,{ref:s,className:c("text-sm text-muted-foreground",a),...t}));te.displayName=g.displayName;const se=({id:a})=>{const t=A(),s=o(f(a));return e.jsxs("div",{className:"flex gap-2",children:[s.title,Object.entries(s.reactions).map(([n,i])=>e.jsxs(b,{className:"cursor-pointer select-none",variant:"outline",onClick:()=>t(l.incrementReaction.thunk({id:s.id,reaction:n})),children:[n," ",i]},n))]})},ae=()=>{const a=o(X),t=Object.values(a).reduce((s,n)=>s+Object.values(n.reactions).reduce((i,d)=>i+d,0),0);return e.jsxs("p",{className:"text-sm",children:["reactions count: ",e.jsx("b",{children:t})]})},ne=()=>{const a=o(j),{id:t}=o(U);return e.jsxs("div",{className:"absolute left-5 top-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium",children:"Github cards"}),e.jsx(ae,{})]}),e.jsxs(W,{children:[e.jsx(Z,{children:e.jsx(M,{children:"Open"})}),e.jsx(v,{className:"flex justify-center overflow-y-auto p-4 sm:max-w-[450px]",children:e.jsxs(N,{children:[e.jsx(C,{children:"Cards"}),e.jsx("div",{className:"flex flex-col gap-2",children:a.map(s=>e.jsx(se,{id:s.id},s.id))})]})})]})]}),t&&e.jsxs("p",{className:"text-sm",children:["selected: ",e.jsx("b",{children:t})]})]})},ie=()=>{const a=o(j),t=o(F);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative h-screen w-full",children:[t&&e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(Y,{className:"size-6 animate-spin"})}),a.map(s=>e.jsx(Q,{id:s.id},s.id))]}),!!a.length&&e.jsx(ne,{})]})},ue=B(H.GITHUB)({component:ie});export{ue as Route};
