import{c as S,j as e,a as c,b as m,u,d as o,C as O,e as D,f as z,A as T,g as k,h as G,r as x,O as p,i as g,k as I,X as P,T as h,D as f,P as E,R as L,l as M,B as A,m as B,n as H}from"./main-zFq7zC_h.js";import{g as j,a as l,b,c as V,d as $,e as U}from"./index-Cxk9nvoz.js";import{githubActions as X}from"./index-DflTBXhF.js";import"./index-BfZ0Q78_.js";import"./redux-saga-effects.esm-CmDjhKgN.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=S("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Y=m("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),y=({className:a,variant:t,...s})=>e.jsx("div",{className:c(Y({variant:t}),a),...s}),q=a=>{const t=u();return{state:{card:o(j(a))},functions:{setDragging:r=>t(l.setDragging.action({id:a,isDragging:r})),incrementReaction:(r,R)=>t(l.incrementReaction.action({id:r,reaction:R})),positionChange:r=>t(l.positionChange.action({position:r})),setOffset:r=>t(X.setSelect({offset:r}))}}},J=({id:a})=>{const{state:t,functions:s}=q(a);return e.jsxs(O,{style:{zIndex:t.card.isDragging?50:1,cursor:"pointer",left:`${t.card.position.x}px`,top:`${t.card.position.y}px`,width:`${t.card.size.width}px`,height:`${t.card.size.height}px`,position:"absolute",userSelect:"none"},onMouseDown:n=>{s.setOffset({x:t.card.position.x-n.clientX+t.card.size.width/2,y:t.card.position.y-n.clientY+t.card.size.height/2}),s.setDragging(!0)},onMouseMove:n=>s.positionChange({y:n.clientY,x:n.clientX}),onMouseUp:()=>s.setDragging(!1),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(z,{className:"text-sm font-medium",children:t.card.id}),e.jsx(T,{className:"h-10 w-10",children:e.jsx(k,{alt:t.card.title,src:t.card.image})})]}),e.jsxs(G,{children:[e.jsx("div",{className:"text-md font-bold",children:t.card.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.card.description}),e.jsx("div",{className:"my-2 flex gap-2",children:Object.entries(t.card.reactions).map(([n,i])=>e.jsxs(y,{variant:"outline",onClick:d=>{d.stopPropagation(),s.incrementReaction(t.card.id,n)},children:[n," ",i]},n))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{children:["x: ",t.card.position.x]}),e.jsxs("div",{children:["y: ",t.card.position.y]})]})]})]})},K=L,Q=M,W=E,v=x.forwardRef(({className:a,...t},s)=>e.jsx(p,{className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:s}));v.displayName=p.displayName;const Z=m("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),N=x.forwardRef(({side:a="right",className:t,children:s,...n},i)=>e.jsxs(W,{children:[e.jsx(v,{}),e.jsxs(g,{ref:i,className:c(Z({side:a}),t),...n,children:[s,e.jsxs(I,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));N.displayName=g.displayName;const C=({className:a,...t})=>e.jsx("div",{className:c("flex flex-col space-y-2 text-center sm:text-left",a),...t});C.displayName="SheetHeader";const w=x.forwardRef(({className:a,...t},s)=>e.jsx(h,{ref:s,className:c("text-lg font-semibold text-foreground",a),...t}));w.displayName=h.displayName;const _=x.forwardRef(({className:a,...t},s)=>e.jsx(f,{ref:s,className:c("text-sm text-muted-foreground",a),...t}));_.displayName=f.displayName;const ee=({id:a})=>{const t=u(),s=o(j(a));return e.jsxs("div",{className:"flex gap-2",children:[s.title,Object.entries(s.reactions).map(([n,i])=>e.jsxs(y,{className:"cursor-pointer select-none",variant:"outline",onClick:()=>t(l.incrementReaction.action({id:s.id,reaction:n})),children:[n," ",i]},n))]})},te=()=>{const a=o($),t=Object.values(a).reduce((s,n)=>s+Object.values(n.reactions).reduce((i,d)=>i+d,0),0);return e.jsxs("p",{className:"text-sm",children:["reactions count: ",e.jsx("b",{children:t})]})},se=()=>{const a=o(b),{id:t}=o(V);return e.jsxs("div",{className:"absolute left-5 top-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium",children:"Github cards"}),e.jsx(te,{})]}),e.jsxs(K,{children:[e.jsx(Q,{children:e.jsx(A,{children:"Open"})}),e.jsx(N,{className:"flex justify-center overflow-y-auto p-4 sm:max-w-[450px]",children:e.jsxs(C,{children:[e.jsx(w,{children:"Cards"}),e.jsx("div",{className:"flex flex-col gap-2",children:a.map(s=>e.jsx(ee,{id:s.id},s.id))})]})})]})]}),t&&e.jsxs("p",{className:"text-sm",children:["selected: ",e.jsx("b",{children:t})]})]})},ae=()=>{const a=o(b),t=o(U);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative h-screen w-full",children:[t&&e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(F,{className:"size-6 animate-spin"})}),a.map(s=>e.jsx(J,{id:s.id},s.id))]}),!!a.length&&e.jsx(se,{})]})},le=B(H.GITHUB)({component:ae});export{le as Route};
